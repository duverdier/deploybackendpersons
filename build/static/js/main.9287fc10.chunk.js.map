{"version":3,"sources":["components/Persons.js","services/PersonService.js","components/Notification.js","App.js","index.js"],"names":["Persons","person","supprimeElement","name","number","onClick","baseUrl","axios","get","then","response","data","newObject","post","id","delete","Notification","message","className","App","useState","persons","setPersons","newPersons","setNewPersons","newNumber","setNewNumber","successMessage","setSuccessMessage","useEffect","PersonService","initialNotes","onSubmit","event","preventDefault","returnedNote","concat","setTimeout","value","onChange","target","type","map","i","find","n","window","confirm","catch","error","console","log","supprim","ReactDOM","render","StrictMode","document","getElementById"],"mappings":"8LA4BeA,EA1BC,SAAC,GAAiC,IAA/BC,EAA8B,EAA9BA,OAAQC,EAAsB,EAAtBA,gBAWzB,OACE,8BACE,8BACGD,EAAOE,KADV,IACiBF,EAAOG,OACtB,wBACEC,QAASH,EADX,0B,gBChBFI,EAAU,eAuBD,EArBA,WAEb,OADgBC,IAAMC,IAAIF,GACXG,MAAK,SAAAC,GAClB,OAAOA,EAASC,SAkBL,EAdA,SAAAC,GAEb,OADgBL,IAAMM,KAAKP,EAASM,GACrBH,MAAK,SAAAC,GAClB,OAAOA,EAASC,SAWL,EAPG,SAACG,GAEjB,OADgBP,IAAMQ,OAAN,UAAgBT,EAAhB,YAA2BQ,IAC5BL,MAAK,SAAAC,GAClB,OAAOA,EAASC,SCNHK,EAZI,SAAC,GAAiB,IAAfC,EAAc,EAAdA,QACpB,OAAgB,OAAZA,EACK,KAIP,qBAAKC,UAAU,UAAf,SACGD,KCwFME,EA5FH,WAAO,IAAD,EACcC,mBAAS,IADvB,mBACTC,EADS,KACAC,EADA,OAEoBF,mBAAS,IAF7B,mBAETG,EAFS,KAEGC,EAFH,OAGkBJ,mBAAS,IAH3B,mBAGTK,EAHS,KAGEC,EAHF,OAI4BN,mBAAS,MAJrC,mBAITO,EAJS,KAIOC,EAJP,KAMhBC,qBAAU,WACRC,IAECrB,MAAK,SAAAsB,GACJT,EAAWS,QAEZ,IAoDH,OACE,gCACA,yCACA,cAAC,EAAD,CAAcd,QAASU,IACvB,uBAAMK,SAtDW,SAACC,GAClBA,EAAMC,iBAMNJ,EALmB,CACjB3B,KAAMoB,EACNnB,OAAQqB,IAKThB,MAAK,SAAA0B,GACJb,EAAWD,EAAQe,OAAOD,IAC1BP,EAAkB,SAAD,OACNL,IAEXc,YAAW,WACTT,EAAkB,QACjB,KACHJ,EAAc,IACdE,EAAa,QAoCf,UACE,uBACEY,MAAOf,EACPgB,SAnCsB,SAACN,GAC3BT,EAAcS,EAAMO,OAAOF,UAoCzB,uBACEA,MAAOb,EACPc,SAnCqB,SAACN,GAC1BP,EAAaO,EAAMO,OAAOF,UAoCxB,wBAAQG,KAAK,SAAb,qBAEF,8BACGpB,EAAQqB,KAAI,SAACzC,EAAQ0C,GAAT,OACX,cAAC,EAAD,CAEE1C,OAAQA,EACRC,gBAAkB,kBAvCR,SAACY,GACf,IAAMb,EAASoB,EAAQuB,MAAK,SAAAC,GAAC,OAAIA,EAAE/B,KAAOA,KACtCgC,OAAOC,QAAP,iBAAyB9C,EAAOE,KAAhC,QACF2B,EACWhB,GACVL,MAAK,SAAA0B,GACJb,EAAWD,EAAQqB,KAAI,SAAAzC,GAAM,OAAIA,EAAOa,KAAOA,EAAKb,EAASkC,MAC7DP,EAAkB,UAAD,OACL3B,EAAOE,OAEnBkC,YAAW,WACTT,EAAkB,QACjB,QAEJoB,OAAM,SAAAC,GACLC,QAAQC,IAAIF,MAwBYG,CAAQnD,EAAOa,MAFlC6B,YClFfU,IAASC,OACP,cAAC,IAAMC,WAAP,UACE,cAAC,EAAD,MAEFC,SAASC,eAAe,W","file":"static/js/main.9287fc10.chunk.js","sourcesContent":["import React from 'react'\r\n\r\nconst Persons = ({ person, supprimeElement }) => {\r\n\r\n//   const btnsupp = () => {\r\n//     // const iden = document.getElementsByTagName(\"p\")\r\n//     // console.log(iden.HTMLCollectionOf)\r\n//     // supprimeElement(id)\r\n//     // iden.parentNode.removeChild(iden)\r\n//     const iden = document.getElementsByTagName(\"button\")\r\n//     supprimeElement()\r\n//     iden[person.id].remove()\r\n//   }\r\n  return (\r\n    <div>\r\n      <p>\r\n        {person.name} {person.number}\r\n        <button\r\n          onClick={supprimeElement}\r\n        >\r\n          Delete\r\n        </button>\r\n      </p>\r\n      \r\n    </div>\r\n  )\r\n}\r\n\r\nexport default Persons","import axios from 'axios'\r\nconst baseUrl = '/api/persons'\r\n\r\nconst getAll = () => {\r\n  const request = axios.get(baseUrl)\r\n  return request.then(response => {\r\n    return response.data\r\n  })\r\n}\r\n\r\nconst create = newObject => {\r\n  const request = axios.post(baseUrl, newObject)\r\n  return request.then(response => {\r\n    return response.data\r\n  })\r\n}\r\n\r\nconst supprimer = (id) => {\r\n  const request = axios.delete(`${baseUrl}/${id}`)\r\n  return request.then(response => {\r\n    return response.data\r\n  })\r\n}\r\n\r\nexport default { getAll, create, supprimer }","import React from 'react'\r\n\r\nconst Notification = ({ message }) => {\r\n    if (message === null) {\r\n      return null\r\n    }\r\n  \r\n    return (\r\n      <div className=\"success\">\r\n        {message}\r\n      </div>\r\n    )\r\n  }\r\n\r\n  export default Notification","import React, { useState, useEffect } from 'react'\nimport Persons from './components/Persons'\nimport PersonService from './services/PersonService'\nimport Notification from './components/Notification'\n\nconst App = () => {\n  const [persons, setPersons] = useState([]) \n  const [newPersons, setNewPersons] = useState('')\n  const [newNumber, setNewNumber] = useState('')\n  const [successMessage, setSuccessMessage] = useState(null)\n\n  useEffect(() => {\n    PersonService\n    .getAll()\n    .then(initialNotes => {\n      setPersons(initialNotes)\n    })\n  }, [])\n\n  const addPersons = (event) => {\n    event.preventDefault()\n    const noteObject = {\n      name: newPersons,\n      number: newNumber,\n    }\n  \n    PersonService\n    .create(noteObject)\n    .then(returnedNote => {\n      setPersons(persons.concat(returnedNote))\n      setSuccessMessage(\n        `Added ${newPersons}`\n      )\n      setTimeout(() => {\n        setSuccessMessage(null)\n      }, 5000)\n      setNewPersons('')\n      setNewNumber('')\n    })\n  }\n\n  const handlePersonsChange = (event) => {\n    setNewPersons(event.target.value)\n  }\n\n  const handleNumberChange = (event) => {\n    setNewNumber(event.target.value)\n  }\n\n\n    const supprim = (id) => {\n      const person = persons.find(n => n.id === id)\n      if (window.confirm(`delete ${person.name} ?`)) {\n        PersonService\n        .supprimer(id)\n        .then(returnedNote => {\n          setPersons(persons.map(person => person.id !== id ? person : returnedNote))\n          setSuccessMessage(\n            `Delete ${person.name}`\n          )\n          setTimeout(() => {\n            setSuccessMessage(null)\n          }, 5000)\n        })\n        .catch(error => {\n          console.log(error);\n        })\n      }\n    }\n  return (\n    <div>\n    <h1>Persons</h1>\n    <Notification message={successMessage} />      \n    <form onSubmit={addPersons}>\n      <input\n        value={newPersons}\n        onChange={handlePersonsChange}\n      />\n      <input\n        value={newNumber}\n        onChange={handleNumberChange}\n      />\n      <button type=\"submit\">save</button>\n    </form>   \n    <div>\n      {persons.map((person, i) => \n        <Persons \n          key={i} \n          person={person} \n          supprimeElement ={() => supprim(person.id)}\n        />\n      )}\n    </div>\n  </div>\n  )\n}\n\nexport default App ","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n"],"sourceRoot":""}